# M : N 관계

> 다대다 관계는 관계를 가진 **양쪽 엔티티(테이블) 모두 에서 일대다 관계**를 가진다.
>

즉 , 서로가 서로를 일대다 관계로 보고 있는 것이다.


예를 들어서 학생과 학원의 관계를 생각해보자.

한 학원에는 여러명의 학생이 수강할 수 있으므로 학원 (일) : 학생 (다) 관계이다.

반대로 학생도 여러개의 학원에서 수강할 수 있으므로 학생 (일) : 학원 (다) 관계이다.

<aside>
💡 하지만 이는 그저 논리적인 설계에 해당할 뿐 실제 **RDBMS**에서는 이를 **물리적으로 구현**이 **불가능**하다.

</aside>


*학생의 PK가 중복으로 발생하고, 과목의 PK도 중복으로 발생한다.*

> 생각해보면 학생과 과목 테이블은 아무런 연관관계가 없는데 인간(개발자)이 억지로 관계를 부여하려고 하니 이러한 에러가 나는거임
>

### 해결방안

> 그래서 관계형 데이터베이스에서는 이러한 다대다 관계를 물리적으로 표현하기 위해서 **또 하나의 테이블**을 중간에 두고 관계를 표현한다. ( 관계를 맺어준다.)
>


<aside>
💡 이렇게 만들어진 ‘수강신청' 테이블을 **관계 테이블** 이라고하고 ‘학생' ‘과목' 테이블을 **마스터 테이블** 이라고 한다.

</aside>

### 예시

‘STUDENT’ 테이블과 ‘SUBJECt’ 테이블이 있고 ‘수강신청'테이블이 있다.

‘STUDENT'테이블과 ‘SUBJECT'테이블은 아무런 관계가 없고 ‘수강신청'테이블의 컬럼인 STUDENT_ID 는 ‘STUDENT'테이블을 참조하고 SUBJECT_ID는 ‘SUBJECT'테이블을 참조한다.


### SELECT
```sql
SELECT * FROM 수강신청 sg
JOIN STUDENT st
ON sg.STUDENT_ID = st.STUDENT_ID
JOIN SUBJECT sb
ON sg.SUBJECT_ID = sb.SUBJECT_ID
ORDER BY st.STUDENT_ID
```